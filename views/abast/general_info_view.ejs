<%
function numberFormat(numero){
    var resultado = "";
    if(numero[0]=="-")
    {
        nuevoNumero=numero.replace(/\./g,'').substring(1);
    }else{
        nuevoNumero=numero.replace(/\./g,'');
    }
    if(numero.indexOf(",")>=0)
        nuevoNumero=nuevoNumero.substring(0,nuevoNumero.indexOf(","));

    for (var j, i = nuevoNumero.length - 1, j = 0; i >= 0; i--, j++)
        resultado = nuevoNumero.charAt(i) + ((j > 0) && (j % 3 == 0)? ".": "") + resultado;
    if(numero.indexOf(",")>=0)
        resultado+=numero.substring(numero.indexOf(","));
    if(numero[0]=="-")
    {
        return "-"+resultado;
    }else{
        return resultado;
    }
}

%>
<div style="overflow: hidden; width: 100%; padding-top: 40px">
    <div class="form-inline" style="margin-bottom: 10px">
      <select class="form-control pull-right">
        <option>Detalle</option>
        <option>Solicitado</option>
        <option>Proveedor</option>
      </select>
      <input type="text" name="buscador_filtro" class="form-control pull-right">

    </div>

    <table id="example" class="table table-striped table-bordered table-condensed" style="width:100%; margin-top:20px">
        <thead>
            <tr>
                <th>OC</th>
                <th>Descripción</th>
                <th>Solicitados</th>
                <th>Factura</th>
                <th>Proveedor</th>
            </tr>
        </thead>
        <tbody>
          <%for(var e=0; e < data.length; e++){%>
            <tr>
                <td><%= data[e].numoda%></td>
                <td><%= data[e].detalle%></td>
                <td><%= data[e].cantidad%></td>
                <%if(data[e].numfac == '' || data[e].numfac == null){%>
                  <td>Sin Facturas</td>
                <%}else{%>
                  <td><%= data[e].numfac%></td>
                <%}
                if(data[e].razon == '' || data[e].razon == null){%>
                  <td>Proveedor no encontrado</td>
                <%}else{%>
                  <td><%= data[e].razon%></td>
                <%}%>

            </tr>
          <%}%>  
        </tbody>
        <tfoot>
            <tr>
                <th>OC</th>
                <th>Descripción</th>
                <th>Solicitados</th>
                <th>Factura</th>
                <th>Proveedor</th>
            </tr>
        </tfoot>
    </table>
</div>
<script type="text/javascript">
$(document).ready(function() {
    setDataTable('#example');
    //$('#example').DataTable();
    /*$(".num_miles").each(function(){
        $(this).html(numberFormat($(this).text()));
    });*/

  });

    function numberFormat(numero){
      var resultado = "";
      if(numero[0]=="-")
      {
          nuevoNumero=numero.replace(/\./g,'').substring(1);
      }else{
          nuevoNumero=numero.replace(/\./g,'');
      }
      if(numero.indexOf(",")>=0)
          nuevoNumero=nuevoNumero.substring(0,nuevoNumero.indexOf(","));

      for (var j, i = nuevoNumero.length - 1, j = 0; i >= 0; i--, j++)
          resultado = nuevoNumero.charAt(i) + ((j > 0) && (j % 3 == 0)? ".": "") + resultado;
      if(numero.indexOf(",")>=0)
          resultado+=numero.substring(numero.indexOf(","));
      if(numero[0]=="-")
      {
          return "-"+resultado;
      }else{
          return resultado;
      }
    }
</script>
