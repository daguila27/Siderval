
<!-- Modal crear Proveedor-->
<div id="crearProv" class="modal-primary modal fade" role="dialog">
    <div class="modal-dialog">
        <form id="clienteForm">
            <!-- addclientform     editclientform-->
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Registrar Movimiento:</h4>
                </div>
                <div class="modal-body">
                    <div class="alert alert-default" style="background-color: rgb(124,123,173)">
                        <strong style="color: white;">Inserto 23023</strong><small class="pull-right" style="color: white;"> Siguiente Etapa: Quiebre</small>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-sm-2" for="email">Procesados:</label>
                        <div>
                            <input type="number" class="form-control" id="process" placeholder="Procesados">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Registrar</button>
                    <button type="button" class="btn btn-default" id="close-clientemodal" data-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div style="margin-top: 50px; padding: 0 30px">
    <ul class="nav nav-tabs col-md-10 col-md-offset-1">
        <li class="active"><a data-toggle="tab" href="#mol">Moldeo</a></li>
        <li><a data-toggle="tab" href="#fus">Fusión</a></li>
        <li><a data-toggle="tab" href="#qui">Quiebre</a></li>
        <li><a data-toggle="tab" href="#tra">Tratamiento Térmico</a></li>
        <li><a data-toggle="tab" href="#ter">Terminación</a></li>
        <li><a data-toggle="tab" href="#mae">Maestranza</a></li>
        <li><a data-toggle="tab" href="#con">Control de Calidad</a></li>
    </ul>
    <div class="tab-content">
        <div id="mol" class="tab-pane fade in active">
            <div class="panel panel-primary col-md-10 col-md-offset-1" style="padding: 0">
                <div class="panel-heading">Moldeo: </div>
                <div class="panel-body" style="padding: 0%">
                    <div style="overflow-y: scroll; max-height: 500px;">
                    </div>
                </div>
                <div class="panel-footer" style="text-align: right">
                </div>
            </div>
        </div>
        <div id="fus" class="tab-pane fade">
            <div class="panel panel-primary col-md-10 col-md-offset-1" style="padding: 0">
                <div class="panel-heading">Fusión: </div>
                <div class="panel-body" style="padding: 0%">
                    <div style="overflow-y: scroll; max-height: 500px;">
                    </div>
                </div>
                <div class="panel-footer" style="text-align: right">
                </div>
            </div>
        </div>
        <div id="qui" class="tab-pane fade">
            <div class="panel panel-primary col-md-10 col-md-offset-1" style="padding: 0">
                <div class="panel-heading">Quiebre: </div>
                <div class="panel-body" style="padding: 0%">
                    <div style="overflow-y: scroll; max-height: 500px;">
                    </div>
                </div>
                <div class="panel-footer" style="text-align: right">
                </div>
            </div>
        </div>
        <div id="tra" class="tab-pane fade">
            <div class="panel panel-primary col-md-10 col-md-offset-1" style="padding: 0">
                <div class="panel-heading">Tratamiento Térmico: </div>
                <div class="panel-body" style="padding: 0%">
                    <div style="overflow-y: scroll; max-height: 500px;">
                    </div>
                </div>
                <div class="panel-footer" style="text-align: right">
                </div>
            </div>
        </div>
        <div id="ter" class="tab-pane fade">
            <div class="panel panel-primary col-md-10 col-md-offset-1" style="padding: 0">
                <div class="panel-heading">Terminación: </div>
                <div class="panel-body" style="padding: 0%">
                    <div style="overflow-y: scroll; max-height: 500px;">
                    </div>
                </div>
                <div class="panel-footer" style="text-align: right">
                </div>
            </div>
        </div>
        <div id="mae" class="tab-pane fade">
            <div class="panel panel-primary col-md-10 col-md-offset-1" style="padding: 0">
                <div class="panel-heading">Maestranza: </div>
                <div class="panel-body" style="padding: 0%">
                    <div style="overflow-y: scroll; max-height: 500px;">
                    </div>
                </div>
                <div class="panel-footer" style="text-align: right">
                </div>
            </div>
        </div>
        <div id="con" class="tab-pane fade">
            <div class="panel panel-primary col-md-10 col-md-offset-1" style="padding: 0">
                <div class="panel-heading">Control de Calidad: </div>
                <div class="panel-body" style="padding: 0%">
                    <div style="overflow-y: scroll; max-height: 500px;">
                    </div>
                </div>
                <div class="panel-footer" style="text-align: right">
                </div>
            </div>
        </div>
    </div>

    <div class="panel panel-primary col-md-12" style="padding: 0">
        <div class="panel-heading">Producción: </div>
        <div class="panel-body" style="padding: 0%">
            <div>

                <table id="prodTable" class="o_list_view table table-condensed table-striped o_list_view_ungrouped" style="width: 100%; margin-top: -2px !important;">
                    <thead>
                    <tr>
                        <th data-toggle="tooltip" data-placement="bottom" title="Nombre">Descripción</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Cantidad" style="text-align: center">Cantidad</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Moldeo" style="text-align: center">MOL</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Fusion" style="text-align: center">FUS</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Quiebre" style="text-align: center">QUI</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Terminación" style="text-align: center">TER</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Tratamiento Termico" style="text-align: center">TTO</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Maestranza" style="text-align: center">MTR</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Control de Calidad" style="text-align: center">CAL</th>
                        <th data-toggle="tooltip" data-placement="bottom" title="Rechazo" style="text-align: center">Rch</th>
                    </tr>
                    </thead>
                    <tbody>
                    <%if(datalen.length){
                    for(var i = 0; i< datalen.length; i++){%>
                    <tr>
                        <td data-toggle="tooltip" data-placement="bottom" title="Nombre"><%=datalen[i].detalle%></td>
                        <td data-cs="0" class="col-can parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Cantidad" style="text-align: center"><%= datalen[i].cantidad - datalen[i]['8'] %></td>
                        <td data-cs="0" onclick="col_movh(this)" class="col-mol parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Moldeo" id="prod<%=datalen[i].idproduccion%>-1" style="text-align: center"><%= datalen[i]['1'] %></td>
                        <td data-cs="0" onclick="col_movh(this)" class="col-fus parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Fusion" id="prod<%=datalen[i].idproduccion%>-2" id="prod<%=datalen[i].idproduccion%>-1" style="text-align: center"><%= datalen[i]['2'] %></td>
                        <td data-cs="0" onclick="col_movh(this)" class="col-qui parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Quiebre" id="prod<%=datalen[i].idproduccion%>-3" style="text-align: center"><%= datalen[i]['3'] %></td>
                        <td data-cs="0" onclick="col_movh(this)" class="col-ter parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Terminación" id="prod<%=datalen[i].idproduccion%>-4" style="text-align: center"><%= datalen[i]['4'] %></td>
                        <td data-cs="0" onclick="col_movh(this)" class="col-tra parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Tratamiento térmico" id="prod<%=datalen[i].idproduccion%>-5" style="text-align: center"><%= datalen[i]['5'] %></td>
                        <td data-cs="0" onclick="col_movh(this)" class="col-mae parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Maestranza" id="prod<%=datalen[i].idproduccion%>-6" style="text-align: center"><%= datalen[i]['6'] %></td>
                        <td data-cs="0" onclick="col_movh(this)" class="col-con parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Control de Calidad" id="prod<%=datalen[i].idproduccion%>-7" style="text-align: center"><%= datalen[i]['7'] %></td>
                        <td data-cs="0" onclick="col_movh(this)" class="col-rec parsear_nro" data-toggle="tooltip" data-placement="bottom" title="Rechazados" id="prod<%=datalen[i].idproduccion%>-7" style="text-align: center"><%= datalen[i].standby %></td>
                    </tr>
                    <%  }
                    } else {
                    %>

                        <tr>
                            <td>No hay nada por producir</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    <%}%>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="panel-footer" style="text-align: right">
        </div>
    </div>
</div>


<script>
    $('#prodTable').DataTable({
        pageLength: 10,
        language: {
            "sProcessing":     "Procesando...",
            "sZeroRecords":    "No se encontraron resultados",
            "sEmptyTable":     "Ningún dato disponible en esta tabla",
            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",

            "sSearch":         "Buscar:",
            "sLoadingRecords": "Cargando...",
            "oPaginate": {
                "sFirst":    "Primero",
                "sLast":     "Último",
                "sNext":     "&raquo",
                "sPrevious": "&laquo"
            },
            "oAria": {
                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
            }
        }
    });

    function col_movh(yo){
        $("#crearProv").modal('show');
    }
</script>