<style>
    .vista-pill:hover{
        cursor:pointer;
    }
</style>
<div class="row" style="margin: 0; padding: 0;">
    <div class="col-sm-12 o_control_panel" style="margin: 0; padding: 10px; display: flex; position: fixed; z-index: 10; width: 82.6%;">


        <ol class="breadcrumb" style="width: 50%; padding: 10px 2px 0px 20px">
            <li class="active">Orden de Producci√≥n</li>

            <!-- Mostrar cantidad de datos -->
            <div id="" style="margin-top: 8px; font-size: 12px">
                <ul class="nav nav-pills" role="tablist">
                    <li role="presentation" class="vista-pill active" data-info="ex"><a>Existencias</a></li>
                    <li role="presentation" class="vista-pill" data-info="prog"><a>Progreso</a></li>
                </ul>
            </div>

        </ol>
        <div style="width: 40%;">
            <input type="text" id="buscar_produccion" class="form-control pull-right" placeholder="Buscar...">
            <div class="btn-group btn-group-sm o_cp_switch_buttons" style="margin-top: 5px">
                <button type="button" accesskey="l" aria-label="list" data-view-type="list" title="" data-view='table_pedidos/pedido.f_entrega-ASC/1' class="btn btn-icon fa fa-lg fa-list-ul view-option active" data-original-title="Lista"></button>
            </div>
        </div>
    </div>
</div>
<div class="row row-main" style=" margin: 0; padding: 0;">
    <div class="col-sm-12 main-page" style="margin: 0; padding: 0; z-index: 5;"></div>
</div>

<style type="text/css">
    .caption a:hover{
        cursor:pointer;
    }
</style>

<script type="text/javascript">
    // Carga la tabla de pedidos
    $(document).ready(function(){
        $.ajax({
            type: 'POST',
            data: {clave: $("#buscar_produccion").val()},
            url: '/jefeprod/table_producciones',
            success: function(data){
                $(".main-page").html(data);
            }
        });
        $(".row-main").css('padding-top', $(".o_control_panel").css('height') );
    });

    $(".vista-pill").on('click', function(e){
        e.preventDefault();
        $(".vista-pill").removeClass('active');
        $(this).addClass('active');
        if($(this).data('info') == 'ex'){
            $.ajax({
                type: 'POST',
                data: {clave: $("#buscar_produccion").val()},
                url: '/jefeprod/table_producciones',
                success: function(data){
                    $(".main-page").html(data);
                }
            });
        }
        else if($(this).data('info') == 'prog'){
            $.ajax({
                type: 'POST',
                data: {clave: $("#buscar_produccion").val()},
                url: '/jefeprod/table_producciones_progreso',
                success: function(data){
                    $(".main-page").html(data);
                }
            });
        }
    });

    $("#buscar_produccion").on('keyup', function(e){
        e.preventDefault();
        if($(".vista-pill.active").data('info') == 'ex'){
            $.ajax({
                type: 'POST',
                data: {clave: $(this).val()},
                url: '/jefeprod/table_producciones',
                success: function(data){
                    $(".main-page").html(data);
                }
            });
        }
        else if($(".vista-pill.active").data('info') == 'prog'){
            $.ajax({
                type: 'POST',
                data: {clave: $(this).val()},
                url: '/jefeprod/table_producciones_progreso',
                success: function(data){
                    $(".main-page").html(data);
                }
            });
        }
    });


</script>